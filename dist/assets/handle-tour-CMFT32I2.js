import{S as j,P as z,W as D,O as A,L as $,R as P,a as O,T as F,b as R,M as C,c as M,g as H,d as S,e as W}from"./vendor-DawJ3ZSv.js";function X(){const t=document.querySelector(".screen-size ion-icon");document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t.name="scan-outline",document.querySelector(".screen-size").title="Enter Full Screen"):(document.body.requestFullscreen?document.body.requestFullscreen():document.body.webkitRequestFullscreen?document.body.webkitRequestFullscreen():document.body.msRequestFullscreen&&document.body.msRequestFullscreen(),t.name="scan-circle-outline",document.querySelector(".screen-size").title="Exit Enter Full Screen")}function Y(t,h,l,f){document.querySelectorAll("span , i, .share-links-cont").forEach(e=>{e.addEventListener("mouseover",()=>{t.enabled=!1})}),document.querySelectorAll("span , ion-icon, i , .share-links-cont").forEach(e=>{e.addEventListener("mouseout",()=>{t.enabled=!0})}),document.querySelector(".help").addEventListener("click",()=>{document.querySelector(".controls-options").classList.toggle("show-controls-option"),document.querySelector(".location-name").classList.toggle("hidden"),document.querySelector(".location-name").classList.toggle("flex"),document.querySelector(".share-links-cont").classList.remove("show-share-links-cont")}),document.querySelector(".close-controls-options i").addEventListener("click",()=>{document.querySelector(".location-name").classList.toggle("hidden"),document.querySelector(".location-name").classList.toggle("flex"),document.querySelector(".controls-options").classList.remove("show-controls-option")}),document.querySelector(".tour").addEventListener("click",()=>{const e=document.querySelector(".tour ion-icon");e.name==="play-outline"?(e.name="pause-outline",document.querySelector(".tour").setAttribute("title","Stop Auto Tour"),t.autoRotate=!0):(e.name="play-outline",document.querySelector(".tour").setAttribute("title","Start Auto Tour"),t.autoRotate=!1)}),document.querySelector(".share").addEventListener("click",()=>{document.querySelector(".share-links-cont").classList.toggle("show-share-links-cont"),document.querySelector(".controls-options").classList.remove("show-controls-option"),document.querySelector(".location-name").classList.add("flex"),document.querySelector(".location-name").classList.remove("hidden")}),document.querySelector(".share-links-cont").innerHTML=` <div class="flex gap-[10px]">
      <a
        href="https://www.facebook.com/sharer/sharer.php?u=${window.location.href}"
        target="_blank"
        class="text-xl text-white"
      >
        <ion-icon name="logo-facebook" ></ion-icon>
      </a>
      <a
        href="https://api.whatsapp.com/send?text=Check%20this%20out!%20${window.location.href}"
        target="_blank"
        class="text-xl text-white"
      >
        <ion-icon name="logo-whatsapp"></ion-icon>
      </a>
      <a
        href="mailto:?subject=Check%20this%20out!&body=I%20found%20this%20interesting%20item%20on%20${window.location.href}"
        target="_blank"
        class="text-xl text-white"
      >
        <ion-icon name="mail-unread-outline"></ion-icon>
      </a>
    </div>`,document.querySelector(".screen-size").addEventListener("click",X),window.addEventListener("mousemove",p),window.addEventListener("resize",g);function p(e){h.x=e.clientX/window.innerWidth*2-1,h.y=-(e.clientY/window.innerHeight)*2+1}function g(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("touchstart",()=>t.enabled=!0),window.addEventListener("touchmove",()=>t.enabled=!0),window.addEventListener("touchend",q,!1);function q(e){document.body.style.cursor="default"}}let d,i,u,m,y,a,x,L;function I(t){const h=document.querySelector(".loader"),l=new $;l.onStart=function(){h.classList.remove("hidden")},l.onLoad=function(){h.classList.add("hidden")};const f=document.querySelector(".image");document.body.appendChild(f),i=new j,d=new z(75,window.innerWidth/window.innerHeight,1,1e3),d.position.set(0,0,.1),u=new D({antialias:!1}),u.setPixelRatio(window.devicePixelRatio/2),u.setSize(window.innerWidth,window.innerHeight),f.appendChild(u.domElement),m=new A(d,u.domElement),m.enableDamping=!0,m.enableZoom=!0,m.dampingFactor=.05,m.screenSpacePanning=!0,y=new P,a=new O;let p=Object.keys(t)[0]+"";function g(n){const r=t[n];for(;i.children.length>0;)i.remove(i.children[0]);const o=new F(l).load(r.image,b=>{const c=new R(500,60,40);c.scale(-1,1,1);const E=new C({map:b,opacity:0,transparent:!0});x=new M(c,E),i.add(x),L&&H.to(L.material,{opacity:0,duration:1,onComplete:()=>i.remove(L)}),H.to(x.material,{opacity:1,duration:1,onComplete:()=>L=x}),r.hotspots.forEach(w=>{q(w.position,w.label,w.image,w.targetRoom)})},void 0,b=>{console.error(`Failed to load texture: ${b}`)});o.minFilter=S,o.magFilter=S}function q(n,r,s,o){const c=new F(l).load(s,()=>{c.minFilter=S,c.magFilter=S,c.wrapS=W,c.wrapT=W}),E=new R(20,32,32),w=new C({map:c}),v=new M(E,w);v.position.copy(n),v.userData={label:r,targetRoom:o},i.add(v)}const e=document.createElement("div");e.style.position="absolute",e.style.padding="3px 8px",e.style.background="rgba(0, 0, 0, 0.7)",e.style.color="white",e.style.borderRadius="4px",e.style.pointerEvents="none",e.style.display="none",e.style.transform="translate(-50%, -120%)",e.style.whiteSpace="nowrap",document.body.appendChild(e),window.addEventListener("mousemove",n=>{a.x=n.clientX/window.innerWidth*2-1,a.y=-(n.clientY/window.innerHeight)*2+1,y.setFromCamera(a,d);const r=y.intersectObjects(i.children);let s=!1;r.forEach(o=>{o.object.userData&&o.object.userData.label&&(s=!0,e.style.display="block",e.style.left=`${n.clientX}px`,e.style.top=`${n.clientY}px`,e.innerHTML=`<strong>${o.object.userData.label}</strong>`,document.body.style.cursor="pointer")}),s||(e.style.display="none",document.body.style.cursor="default")});function T(n){a.x=n.clientX/window.innerWidth*2-1,a.y=-(n.clientY/window.innerHeight)*2+1,y.setFromCamera(a,d);const r=y.intersectObjects(i.children);if(r.length>0){const s=r[0].object;if(s.userData.label){const o=s.userData.targetRoom;o&&(p=o,g(p))}}}window.addEventListener("click",T,!1);function k(){requestAnimationFrame(k),m.update(),u.render(i,d)}k(),Y(m,a,d,u),g(p)}export{I as h};
