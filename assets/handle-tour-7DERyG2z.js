import{S as j,P as z,W as D,O as A,L as $,R as P,a as O,T as R,b as C,M as H,c as M,g as W,d as S,e as T}from"./vendor-DawJ3ZSv.js";function X(){const n=document.querySelector(".screen-size ion-icon");document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),n.name="scan-outline",document.querySelector(".screen-size").title="Enter Full Screen"):(document.body.requestFullscreen?document.body.requestFullscreen():document.body.webkitRequestFullscreen?document.body.webkitRequestFullscreen():document.body.msRequestFullscreen&&document.body.msRequestFullscreen(),n.name="scan-circle-outline",document.querySelector(".screen-size").title="Exit Enter Full Screen")}function Y(n,h,l,g){document.querySelectorAll("span , i, .share-links-cont").forEach(e=>{e.addEventListener("mouseover",()=>{n.enabled=!1})}),document.querySelectorAll("span , ion-icon, i , .share-links-cont").forEach(e=>{e.addEventListener("mouseout",()=>{n.enabled=!0})}),document.querySelector(".help").addEventListener("click",()=>{document.querySelector(".controls-options").classList.toggle("show-controls-option"),document.querySelector(".location-name").classList.toggle("hidden"),document.querySelector(".location-name").classList.toggle("flex"),document.querySelector(".share-links-cont").classList.remove("show-share-links-cont")}),document.querySelector(".close-controls-options i").addEventListener("click",()=>{document.querySelector(".location-name").classList.toggle("hidden"),document.querySelector(".location-name").classList.toggle("flex"),document.querySelector(".controls-options").classList.remove("show-controls-option")}),document.querySelector(".tour").addEventListener("click",()=>{const e=document.querySelector(".tour ion-icon");e.name==="play-outline"?(e.name="pause-outline",document.querySelector(".tour").setAttribute("title","Stop Auto Tour"),n.autoRotate=!0):(e.name="play-outline",document.querySelector(".tour").setAttribute("title","Start Auto Tour"),n.autoRotate=!1)}),document.querySelector(".share").addEventListener("click",()=>{document.querySelector(".share-links-cont").classList.toggle("show-share-links-cont"),document.querySelector(".controls-options").classList.remove("show-controls-option"),document.querySelector(".location-name").classList.add("flex"),document.querySelector(".location-name").classList.remove("hidden")}),document.querySelector(".share-links-cont").innerHTML=` <div class="flex gap-[10px]">
      <a
        href="https://www.facebook.com/sharer/sharer.php?u=${window.location.href}"
        target="_blank"
        class="text-xl text-white"
      >
        <ion-icon name="logo-facebook" ></ion-icon>
      </a>
      <a
        href="https://api.whatsapp.com/send?text=Check%20this%20out!%20${window.location.href}"
        target="_blank"
        class="text-xl text-white"
      >
        <ion-icon name="logo-whatsapp"></ion-icon>
      </a>
      <a
        href="mailto:?subject=Check%20this%20out!&body=I%20found%20this%20interesting%20item%20on%20${window.location.href}"
        target="_blank"
        class="text-xl text-white"
      >
        <ion-icon name="mail-unread-outline"></ion-icon>
      </a>
    </div>`,document.querySelector(".screen-size").addEventListener("click",X),window.addEventListener("mousemove",p),window.addEventListener("resize",f);function p(e){h.x=e.clientX/window.innerWidth*2-1,h.y=-(e.clientY/window.innerHeight)*2+1}function f(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),g.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("touchstart",()=>n.enabled=!0),window.addEventListener("touchmove",()=>n.enabled=!0),window.addEventListener("touchend",q,!1);function q(e){document.body.style.cursor="default"}}let d,r,u,m,y,s,x,L;function I(n){const h=document.querySelector(".loader"),l=new $;l.onStart=function(){h.classList.remove("hidden")},l.onLoad=function(){h.classList.add("hidden")};const g=document.querySelector(".image");document.body.appendChild(g),r=new j,d=new z(75,window.innerWidth/window.innerHeight,1,1e3),d.position.set(0,0,.1),u=new D({antialias:!1}),u.setPixelRatio(window.devicePixelRatio/2),u.setSize(window.innerWidth,window.innerHeight),g.appendChild(u.domElement),m=new A(d,u.domElement),m.enableDamping=!0,m.enableZoom=!0,m.dampingFactor=.05,m.screenSpacePanning=!0,y=new P,s=new O;let p=Object.keys(n)[0]+"";function f(t){const i=n[t];for(;r.children.length>0;)r.remove(r.children[0]);const c=new R(l);console.log(i.image);const o=c.load(i.image,b=>{const a=new C(500,60,40);a.scale(-1,1,1);const E=new H({map:b,opacity:0,transparent:!0});x=new M(a,E),r.add(x),L&&W.to(L.material,{opacity:0,duration:1,onComplete:()=>r.remove(L)}),W.to(x.material,{opacity:1,duration:1,onComplete:()=>L=x}),i.hotspots.forEach(w=>{q(w.position,w.label,w.image,w.targetRoom)})},void 0,b=>{console.error(`Failed to load texture: ${b}`)});o.minFilter=S,o.magFilter=S}function q(t,i,c,o){const a=new R(l).load(c,()=>{a.minFilter=S,a.magFilter=S,a.wrapS=T,a.wrapT=T}),E=new C(20,32,32),w=new H({map:a}),v=new M(E,w);v.position.copy(t),v.userData={label:i,targetRoom:o},r.add(v)}const e=document.createElement("div");e.style.position="absolute",e.style.padding="3px 8px",e.style.background="rgba(0, 0, 0, 0.7)",e.style.color="white",e.style.borderRadius="4px",e.style.pointerEvents="none",e.style.display="none",e.style.transform="translate(-50%, -120%)",e.style.whiteSpace="nowrap",document.body.appendChild(e),window.addEventListener("mousemove",t=>{s.x=t.clientX/window.innerWidth*2-1,s.y=-(t.clientY/window.innerHeight)*2+1,y.setFromCamera(s,d);const i=y.intersectObjects(r.children);let c=!1;i.forEach(o=>{o.object.userData&&o.object.userData.label&&(c=!0,e.style.display="block",e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,e.innerHTML=`<strong>${o.object.userData.label}</strong>`,document.body.style.cursor="pointer")}),c||(e.style.display="none",document.body.style.cursor="default")}),window.addEventListener("click",k,{passive:!0}),window.addEventListener("touchstart",k,{passive:!0});function k(t){t.type==="touchstart"?(s.x=t.touches[0].clientX/window.innerWidth*2-1,s.y=-(t.touches[0].clientY/window.innerHeight)*2+1):(s.x=t.clientX/window.innerWidth*2-1,s.y=-(t.clientY/window.innerHeight)*2+1),y.setFromCamera(s,d);const i=y.intersectObjects(r.children);if(i.length>0){const c=i[0].object;if(c.userData.label){const o=c.userData.targetRoom;o&&(p=o,f(p))}}}function F(){requestAnimationFrame(F),m.update(),u.render(r,d)}F(),Y(m,s,d,u),f(p)}export{I as h};
